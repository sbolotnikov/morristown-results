"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/process-pdf/route";
exports.ids = ["app/api/process-pdf/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pdf-parse":
/*!****************************!*\
  !*** external "pdf-parse" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("pdf-parse");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprocess-pdf%2Froute&page=%2Fapi%2Fprocess-pdf%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess-pdf%2Froute.ts&appDir=C%3A%5CUsers%5Csbolo%5CWebProjects%5Cmorristown-results%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csbolo%5CWebProjects%5Cmorristown-results&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprocess-pdf%2Froute&page=%2Fapi%2Fprocess-pdf%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess-pdf%2Froute.ts&appDir=C%3A%5CUsers%5Csbolo%5CWebProjects%5Cmorristown-results%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csbolo%5CWebProjects%5Cmorristown-results&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_sbolo_WebProjects_morristown_results_src_app_api_process_pdf_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/process-pdf/route.ts */ \"(rsc)/./src/app/api/process-pdf/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/process-pdf/route\",\n        pathname: \"/api/process-pdf\",\n        filename: \"route\",\n        bundlePath: \"app/api/process-pdf/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\sbolo\\\\WebProjects\\\\morristown-results\\\\src\\\\app\\\\api\\\\process-pdf\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_sbolo_WebProjects_morristown_results_src_app_api_process_pdf_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/process-pdf/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9jZXNzLXBkZiUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvY2Vzcy1wZGYlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm9jZXNzLXBkZiUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNzYm9sbyU1Q1dlYlByb2plY3RzJTVDbW9ycmlzdG93bi1yZXN1bHRzJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNzYm9sbyU1Q1dlYlByb2plY3RzJTVDbW9ycmlzdG93bi1yZXN1bHRzJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN1QztBQUNwSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL21vcnJpc3Rvd24tcmVzdWx0cy8/M2Q3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxzYm9sb1xcXFxXZWJQcm9qZWN0c1xcXFxtb3JyaXN0b3duLXJlc3VsdHNcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccHJvY2Vzcy1wZGZcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2Nlc3MtcGRmL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJvY2Vzcy1wZGZcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Byb2Nlc3MtcGRmL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcc2JvbG9cXFxcV2ViUHJvamVjdHNcXFxcbW9ycmlzdG93bi1yZXN1bHRzXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHByb2Nlc3MtcGRmXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wcm9jZXNzLXBkZi9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprocess-pdf%2Froute&page=%2Fapi%2Fprocess-pdf%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess-pdf%2Froute.ts&appDir=C%3A%5CUsers%5Csbolo%5CWebProjects%5Cmorristown-results%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csbolo%5CWebProjects%5Cmorristown-results&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/process-pdf/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/process-pdf/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_competitionProcessor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/competitionProcessor */ \"(rsc)/./src/lib/competitionProcessor.ts\");\n\n\nconst runtime = \"nodejs\"; // Specify Node.js runtime\nasync function POST(req) {\n    console.log(\"API route /api/process-pdf received a request.\");\n    try {\n        const formData = await req.formData();\n        const pdfFile = formData.get(\"pdfFile\");\n        if (!pdfFile) {\n            console.error(\"No PDF file uploaded.\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No PDF file uploaded\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(\"Processing uploaded PDF file:\", pdfFile.name);\n        const arrayBuffer = await pdfFile.arrayBuffer();\n        const buffer = Buffer.from(arrayBuffer);\n        try {\n            let pdfParse;\n            // Try to require pdf-parse, fallback if it fails\n            try {\n                pdfParse = __webpack_require__(/*! pdf-parse */ \"pdf-parse\");\n            } catch (requireError) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"PDF parsing library not available. Please install pdf-parse.\"\n                }, {\n                    status: 500\n                });\n            }\n            // Extract text from PDF\n            const data = await pdfParse(buffer);\n            const text = data.text;\n            if (!text || text.trim() === \"\") {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Could not extract text from the PDF. It might be empty, image-based, or corrupted.\"\n                }, {\n                    status: 400\n                });\n            }\n            // Split text into lines for easier processing\n            let lines = text.split(\"\\n\").map((line)=>line.trim()).filter((line)=>line.length > 0);\n            // Handle PDF-specific format where place/proficiency/heat/event are on one line\n            // Split lines like \"1 [97.0]Heat 288\", \"*A [95.0]Heat 288\", etc.\n            // into separate lines: \"1 [97.0]\", \"Heat 288\", \"L-B1 Bronze Closed Prof. Grade Foxtrot\"\n            const processedLines = [];\n            for (const line of lines){\n                // Check if this is a student/teacher line - keep as is\n                const studentTeacherMatch = line.match(/^(.+?)\\/(.+?)\\s*\\(#\\d+\\)\\s*\\[.+?\\]$|^(.+?)\\s*\\(#\\d+\\)\\/(.+?)\\s*\\[.+?\\]$/);\n                if (studentTeacherMatch) {\n                    processedLines.push(line);\n                } else {\n                    // Check if this line matches the condensed format: \"place [score]Heat number event description\"\n                    // Updated to handle places like \"*A\", \"1\", \"*B\", etc.\n                    const condensedMatch = line.match(/^([*]?[A-Za-z0-9]+\\s*(?:\\[\\d+\\.?\\d*\\])?)((Heat|Solo)\\s+\\d+)(.+)$/);\n                    if (condensedMatch) {\n                        // Split into separate lines\n                        if (condensedMatch[2].trim() == \"Solo\") {\n                            console.log(\"\", condensedMatch);\n                        }\n                        processedLines.push(condensedMatch[1].trim()); // \"1 [97.0]\"\n                        processedLines.push(condensedMatch[2].trim()); // \"Heat 288\"\n                        processedLines.push(condensedMatch[4].trim()); // \"L-B1 Bronze Closed Prof. Grade Foxtrot\"\n                    } else {\n                        // Keep line as is if it doesn't match the condensed format\n                        processedLines.push(line);\n                    }\n                }\n            }\n            lines = processedLines;\n            //   console.log('Processed lines for PDF:', lines);\n            // Process the competition data using the same logic as DOCX\n            const { processedData, processedDataAmateurCouples } = (0,_lib_competitionProcessor__WEBPACK_IMPORTED_MODULE_1__.processCompetitionData)(lines);\n            if (processedData.length === 0) {\n                // Log the extracted lines for debugging\n                console.log(\"Debug - First 20 lines extracted from PDF:\");\n                lines.slice(0, 20).forEach((line, index)=>{\n                    console.log(`Line ${index + 1}: \"${line}\"`);\n                });\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"No valid competition entries found in the PDF after processing.\",\n                    debug: {\n                        totalLines: lines.length,\n                        sampleLines: lines.slice(0, 20),\n                        message: \"Check console logs for detailed line-by-line output\"\n                    }\n                }, {\n                    status: 400\n                });\n            }\n            // Generate CSV using the same logic as DOCX\n            const csv = (0,_lib_competitionProcessor__WEBPACK_IMPORTED_MODULE_1__.generateCSVFromProcessedData)(processedData, processedDataAmateurCouples);\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(csv, {\n                headers: {\n                    \"Content-Type\": \"text/csv\",\n                    \"Content-Disposition\": 'attachment; filename=\"competition_results_from_pdf.csv\"'\n                }\n            });\n        } catch (parsingError) {\n            console.error(\"Error during PDF parsing:\", parsingError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: `PDF parsing failed: ${parsingError.message || \"Unknown error\"}`\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error(\"Unhandled error in PDF API route:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO2dCQUNaa0IsTUFBTWEsS0FBSyxDQUFDLEdBQUcsSUFBSUMsT0FBTyxDQUFDLENBQUNYLE1BQU1ZO29CQUNoQ2xDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRWlDLFFBQVEsRUFBRSxHQUFHLEVBQUVaLEtBQUssQ0FBQyxDQUFDO2dCQUM1QztnQkFFQSxPQUFPNUIscURBQVlBLENBQUNZLElBQUksQ0FDdEI7b0JBQ0VELE9BQ0U7b0JBQ0Y4QixPQUFPO3dCQUNMQyxZQUFZakIsTUFBTUssTUFBTTt3QkFDeEJhLGFBQWFsQixNQUFNYSxLQUFLLENBQUMsR0FBRzt3QkFDNUJNLFNBQVM7b0JBQ1g7Z0JBQ0YsR0FDQTtvQkFBRS9CLFFBQVE7Z0JBQUk7WUFFbEI7WUFFQSw0Q0FBNEM7WUFDNUMsTUFBTWdDLE1BQU0zQyx1RkFBNEJBLENBQ3RDa0MsZUFDQUM7WUFHRixPQUFPLElBQUlyQyxxREFBWUEsQ0FBQzZDLEtBQUs7Z0JBQzNCQyxTQUFTO29CQUNQLGdCQUFnQjtvQkFDaEIsdUJBQ0U7Z0JBQ0o7WUFDRjtRQUNGLEVBQUUsT0FBT0MsY0FBbUI7WUFDMUJ6QyxRQUFRSyxLQUFLLENBQUMsNkJBQTZCb0M7WUFDM0MsT0FBTy9DLHFEQUFZQSxDQUFDWSxJQUFJLENBQ3RCO2dCQUNFRCxPQUFPLENBQUMsb0JBQW9CLEVBQzFCb0MsYUFBYUgsT0FBTyxJQUFJLGdCQUN6QixDQUFDO1lBQ0osR0FDQTtnQkFBRS9CLFFBQVE7WUFBSTtRQUVsQjtJQUNGLEVBQUUsT0FBT0YsT0FBWTtRQUNuQkwsUUFBUUssS0FBSyxDQUFDLHFDQUFxQ0E7UUFDbkQsT0FBT1gscURBQVlBLENBQUNZLElBQUksQ0FDdEI7WUFBRUQsT0FBT0EsTUFBTWlDLE9BQU8sSUFBSTtRQUF3QixHQUNsRDtZQUFFL0IsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb3JyaXN0b3duLXJlc3VsdHMvLi9zcmMvYXBwL2FwaS9wcm9jZXNzLXBkZi9yb3V0ZS50cz9lMzA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7XHJcbiAgcHJvY2Vzc0NvbXBldGl0aW9uRGF0YSxcclxuICBnZW5lcmF0ZUNTVkZyb21Qcm9jZXNzZWREYXRhLFxyXG59IGZyb20gJy4uLy4uLy4uL2xpYi9jb21wZXRpdGlvblByb2Nlc3Nvcic7XHJcblxyXG5leHBvcnQgY29uc3QgcnVudGltZSA9ICdub2RlanMnOyAvLyBTcGVjaWZ5IE5vZGUuanMgcnVudGltZVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnNvbGUubG9nKCdBUEkgcm91dGUgL2FwaS9wcm9jZXNzLXBkZiByZWNlaXZlZCBhIHJlcXVlc3QuJyk7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxLmZvcm1EYXRhKCk7XHJcbiAgICBjb25zdCBwZGZGaWxlID0gZm9ybURhdGEuZ2V0KCdwZGZGaWxlJykgYXMgRmlsZSB8IG51bGw7XHJcblxyXG4gICAgaWYgKCFwZGZGaWxlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIFBERiBmaWxlIHVwbG9hZGVkLicpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ05vIFBERiBmaWxlIHVwbG9hZGVkJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdQcm9jZXNzaW5nIHVwbG9hZGVkIFBERiBmaWxlOicsIHBkZkZpbGUubmFtZSk7XHJcblxyXG4gICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBwZGZGaWxlLmFycmF5QnVmZmVyKCk7XHJcbiAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlcik7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHBkZlBhcnNlOiBhbnk7XHJcblxyXG4gICAgICAvLyBUcnkgdG8gcmVxdWlyZSBwZGYtcGFyc2UsIGZhbGxiYWNrIGlmIGl0IGZhaWxzXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcGRmUGFyc2UgPSByZXF1aXJlKCdwZGYtcGFyc2UnKTtcclxuICAgICAgfSBjYXRjaCAocmVxdWlyZUVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBlcnJvcjpcclxuICAgICAgICAgICAgICAnUERGIHBhcnNpbmcgbGlicmFyeSBub3QgYXZhaWxhYmxlLiBQbGVhc2UgaW5zdGFsbCBwZGYtcGFyc2UuJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBFeHRyYWN0IHRleHQgZnJvbSBQREZcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHBkZlBhcnNlKGJ1ZmZlcik7XHJcbiAgICAgIGNvbnN0IHRleHQgPSBkYXRhLnRleHQ7XHJcblxyXG4gICAgICBpZiAoIXRleHQgfHwgdGV4dC50cmltKCkgPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBlcnJvcjpcclxuICAgICAgICAgICAgICAnQ291bGQgbm90IGV4dHJhY3QgdGV4dCBmcm9tIHRoZSBQREYuIEl0IG1pZ2h0IGJlIGVtcHR5LCBpbWFnZS1iYXNlZCwgb3IgY29ycnVwdGVkLicsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU3BsaXQgdGV4dCBpbnRvIGxpbmVzIGZvciBlYXNpZXIgcHJvY2Vzc2luZ1xyXG4gICAgICBsZXQgbGluZXMgPSB0ZXh0XHJcbiAgICAgICAgLnNwbGl0KCdcXG4nKVxyXG4gICAgICAgIC5tYXAoKGxpbmU6IHN0cmluZykgPT4gbGluZS50cmltKCkpXHJcbiAgICAgICAgLmZpbHRlcigobGluZTogc3RyaW5nKSA9PiBsaW5lLmxlbmd0aCA+IDApO1xyXG5cclxuICAgICAgLy8gSGFuZGxlIFBERi1zcGVjaWZpYyBmb3JtYXQgd2hlcmUgcGxhY2UvcHJvZmljaWVuY3kvaGVhdC9ldmVudCBhcmUgb24gb25lIGxpbmVcclxuICAgICAgLy8gU3BsaXQgbGluZXMgbGlrZSBcIjEgWzk3LjBdSGVhdCAyODhcIiwgXCIqQSBbOTUuMF1IZWF0IDI4OFwiLCBldGMuXHJcbiAgICAgIC8vIGludG8gc2VwYXJhdGUgbGluZXM6IFwiMSBbOTcuMF1cIiwgXCJIZWF0IDI4OFwiLCBcIkwtQjEgQnJvbnplIENsb3NlZCBQcm9mLiBHcmFkZSBGb3h0cm90XCJcclxuICAgICAgY29uc3QgcHJvY2Vzc2VkTGluZXM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgc3R1ZGVudC90ZWFjaGVyIGxpbmUgLSBrZWVwIGFzIGlzXHJcbiAgICAgICAgY29uc3Qgc3R1ZGVudFRlYWNoZXJNYXRjaCA9IGxpbmUubWF0Y2goXHJcbiAgICAgICAgICAvXiguKz8pXFwvKC4rPylcXHMqXFwoI1xcZCtcXClcXHMqXFxbLis/XFxdJHxeKC4rPylcXHMqXFwoI1xcZCtcXClcXC8oLis/KVxccypcXFsuKz9cXF0kL1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChzdHVkZW50VGVhY2hlck1hdGNoKSB7XHJcbiAgICAgICAgICBwcm9jZXNzZWRMaW5lcy5wdXNoKGxpbmUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGxpbmUgbWF0Y2hlcyB0aGUgY29uZGVuc2VkIGZvcm1hdDogXCJwbGFjZSBbc2NvcmVdSGVhdCBudW1iZXIgZXZlbnQgZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgLy8gVXBkYXRlZCB0byBoYW5kbGUgcGxhY2VzIGxpa2UgXCIqQVwiLCBcIjFcIiwgXCIqQlwiLCBldGMuXHJcbiAgICAgICAgICBjb25zdCBjb25kZW5zZWRNYXRjaCA9IGxpbmUubWF0Y2goXHJcbiAgICAgICAgICAgIC9eKFsqXT9bQS1aYS16MC05XStcXHMqKD86XFxbXFxkK1xcLj9cXGQqXFxdKT8pKChIZWF0fFNvbG8pXFxzK1xcZCspKC4rKSQvXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGlmIChjb25kZW5zZWRNYXRjaCkge1xyXG4gICAgICAgICAgICAvLyBTcGxpdCBpbnRvIHNlcGFyYXRlIGxpbmVzXHJcbiAgICAgICAgICAgIGlmIChjb25kZW5zZWRNYXRjaFsyXS50cmltKCkgPT0gJ1NvbG8nKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJycsIGNvbmRlbnNlZE1hdGNoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcm9jZXNzZWRMaW5lcy5wdXNoKGNvbmRlbnNlZE1hdGNoWzFdLnRyaW0oKSk7IC8vIFwiMSBbOTcuMF1cIlxyXG4gICAgICAgICAgICBwcm9jZXNzZWRMaW5lcy5wdXNoKGNvbmRlbnNlZE1hdGNoWzJdLnRyaW0oKSk7IC8vIFwiSGVhdCAyODhcIlxyXG4gICAgICAgICAgICBwcm9jZXNzZWRMaW5lcy5wdXNoKGNvbmRlbnNlZE1hdGNoWzRdLnRyaW0oKSk7IC8vIFwiTC1CMSBCcm9uemUgQ2xvc2VkIFByb2YuIEdyYWRlIEZveHRyb3RcIlxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gS2VlcCBsaW5lIGFzIGlzIGlmIGl0IGRvZXNuJ3QgbWF0Y2ggdGhlIGNvbmRlbnNlZCBmb3JtYXRcclxuICAgICAgICAgICAgcHJvY2Vzc2VkTGluZXMucHVzaChsaW5lKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxpbmVzID0gcHJvY2Vzc2VkTGluZXM7XHJcbiAgICAgIC8vICAgY29uc29sZS5sb2coJ1Byb2Nlc3NlZCBsaW5lcyBmb3IgUERGOicsIGxpbmVzKTtcclxuXHJcbiAgICAgIC8vIFByb2Nlc3MgdGhlIGNvbXBldGl0aW9uIGRhdGEgdXNpbmcgdGhlIHNhbWUgbG9naWMgYXMgRE9DWFxyXG4gICAgICBjb25zdCB7IHByb2Nlc3NlZERhdGEsIHByb2Nlc3NlZERhdGFBbWF0ZXVyQ291cGxlcyB9ID1cclxuICAgICAgICBwcm9jZXNzQ29tcGV0aXRpb25EYXRhKGxpbmVzKTtcclxuXHJcbiAgICAgIGlmIChwcm9jZXNzZWREYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIC8vIExvZyB0aGUgZXh0cmFjdGVkIGxpbmVzIGZvciBkZWJ1Z2dpbmdcclxuICAgICAgICBjb25zb2xlLmxvZygnRGVidWcgLSBGaXJzdCAyMCBsaW5lcyBleHRyYWN0ZWQgZnJvbSBQREY6Jyk7XHJcbiAgICAgICAgbGluZXMuc2xpY2UoMCwgMjApLmZvckVhY2goKGxpbmUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgTGluZSAke2luZGV4ICsgMX06IFwiJHtsaW5lfVwiYCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgZXJyb3I6XHJcbiAgICAgICAgICAgICAgJ05vIHZhbGlkIGNvbXBldGl0aW9uIGVudHJpZXMgZm91bmQgaW4gdGhlIFBERiBhZnRlciBwcm9jZXNzaW5nLicsXHJcbiAgICAgICAgICAgIGRlYnVnOiB7XHJcbiAgICAgICAgICAgICAgdG90YWxMaW5lczogbGluZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgIHNhbXBsZUxpbmVzOiBsaW5lcy5zbGljZSgwLCAyMCksXHJcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ0NoZWNrIGNvbnNvbGUgbG9ncyBmb3IgZGV0YWlsZWQgbGluZS1ieS1saW5lIG91dHB1dCcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gR2VuZXJhdGUgQ1NWIHVzaW5nIHRoZSBzYW1lIGxvZ2ljIGFzIERPQ1hcclxuICAgICAgY29uc3QgY3N2ID0gZ2VuZXJhdGVDU1ZGcm9tUHJvY2Vzc2VkRGF0YShcclxuICAgICAgICBwcm9jZXNzZWREYXRhLFxyXG4gICAgICAgIHByb2Nlc3NlZERhdGFBbWF0ZXVyQ291cGxlc1xyXG4gICAgICApO1xyXG5cclxuICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoY3N2LCB7XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd0ZXh0L2NzdicsXHJcbiAgICAgICAgICAnQ29udGVudC1EaXNwb3NpdGlvbic6XHJcbiAgICAgICAgICAgICdhdHRhY2htZW50OyBmaWxlbmFtZT1cImNvbXBldGl0aW9uX3Jlc3VsdHNfZnJvbV9wZGYuY3N2XCInLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAocGFyc2luZ0Vycm9yOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIFBERiBwYXJzaW5nOicsIHBhcnNpbmdFcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7XHJcbiAgICAgICAgICBlcnJvcjogYFBERiBwYXJzaW5nIGZhaWxlZDogJHtcclxuICAgICAgICAgICAgcGFyc2luZ0Vycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InXHJcbiAgICAgICAgICB9YCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBlcnJvciBpbiBQREYgQVBJIHJvdXRlOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJwcm9jZXNzQ29tcGV0aXRpb25EYXRhIiwiZ2VuZXJhdGVDU1ZGcm9tUHJvY2Vzc2VkRGF0YSIsInJ1bnRpbWUiLCJQT1NUIiwicmVxIiwiY29uc29sZSIsImxvZyIsImZvcm1EYXRhIiwicGRmRmlsZSIsImdldCIsImVycm9yIiwianNvbiIsInN0YXR1cyIsIm5hbWUiLCJhcnJheUJ1ZmZlciIsImJ1ZmZlciIsIkJ1ZmZlciIsImZyb20iLCJwZGZQYXJzZSIsInJlcXVpcmUiLCJyZXF1aXJlRXJyb3IiLCJkYXRhIiwidGV4dCIsInRyaW0iLCJsaW5lcyIsInNwbGl0IiwibWFwIiwibGluZSIsImZpbHRlciIsImxlbmd0aCIsInByb2Nlc3NlZExpbmVzIiwic3R1ZGVudFRlYWNoZXJNYXRjaCIsIm1hdGNoIiwicHVzaCIsImNvbmRlbnNlZE1hdGNoIiwicHJvY2Vzc2VkRGF0YSIsInByb2Nlc3NlZERhdGFBbWF0ZXVyQ291cGxlcyIsInNsaWNlIiwiZm9yRWFjaCIsImluZGV4IiwiZGVidWciLCJ0b3RhbExpbmVzIiwic2FtcGxlTGluZXMiLCJtZXNzYWdlIiwiY3N2IiwiaGVhZGVycyIsInBhcnNpbmdFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/process-pdf/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/competitionProcessor.ts":
/*!*****************************************!*\
  !*** ./src/lib/competitionProcessor.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateCSVFromProcessedData: () => (/* binding */ generateCSVFromProcessedData),\n/* harmony export */   processCompetitionData: () => (/* binding */ processCompetitionData)\n/* harmony export */ });\n// Shared processing logic for competition results\nfunction processCompetitionData(lines) {\n    const processedData = [];\n    const processedDataAmateurCouples = [];\n    let sumOfPoints = 0;\n    let currentstudent;\n    //   console.log('=== STARTING COMPETITION DATA PROCESSING ===');\n    //   console.log(`Total lines to process: ${lines.length}`);\n    // Process lines to extract competition data\n    for(let i = 0; i < lines.length; i++){\n        const line = lines[i];\n        // Check if this line contains student/teacher info in format: \"Name/Name (#number) [Location]\" or \"Name (#number)/Name [Location]\"\n        const studentTeacherMatch = line.match(/^(.+?)\\/(.+?)\\s*\\(#\\d+\\)\\s*\\[.+?\\]$|^(.+?)\\s*\\(#\\d+\\)\\/(.+?)\\s*\\[.+?\\]$/);\n        if (studentTeacherMatch) {\n            //   console.log(`Found student/teacher match at line ${i + 1}: \"${line}\"`);\n            // Handle both formats: Name/Name (#number) [Location] and Name (#number)/Name [Location]\n            let student, teacher;\n            if (studentTeacherMatch[1] && studentTeacherMatch[2]) {\n                // Format: Name/Name (#number) [Location]\n                student = studentTeacherMatch[1].trim();\n                teacher = studentTeacherMatch[2].trim();\n            // console.log(`  Format 1 - Student: \"${student}\", Teacher: \"${teacher}\"`);\n            } else if (studentTeacherMatch[3] && studentTeacherMatch[4]) {\n                // Format: Name (#number)/Name [Location]\n                student = studentTeacherMatch[3].trim();\n                teacher = studentTeacherMatch[4].trim();\n            // console.log(`  Format 2 - Student: \"${student}\", Teacher: \"${teacher}\"`);\n            }\n            // Look ahead for all place/proficiency and heat/event information for this student/teacher pair\n            let j = i + 1;\n            //   console.log(`  Looking ahead from line ${j + 1} for competition data...`);\n            // Continue processing entries until we hit another student/teacher line or end of file\n            while(j < lines.length){\n                // console.log(`    Checking line ${j + 1}: \"${lines[j]}\"`);\n                // Check if we've hit another student/teacher line\n                const nextStudentTeacherMatch = lines[j].match(/^(.+?)\\/(.+?)\\s*\\(#\\d+\\)\\s*\\[.+?\\]$|^(.+?)\\s*\\(#\\d+\\)\\/(.+?)\\s*\\[.+?\\]$/);\n                if (nextStudentTeacherMatch) {\n                    break;\n                }\n                let place = \"\";\n                let proficiency = \"\";\n                let heatNumber = \"\";\n                let eventDescription = \"\";\n                // Find place/proficiency line (format: \"1 [93.0]\", \"1\", \"*A [95.0]\", \"*A\", etc.)\n                const placeLine = lines[j];\n                let checkSoloLine = placeLine.match(/^(Solo)\\s+\\d+$/);\n                const placeMatch = placeLine.match(/^([*]?[A-Za-z0-9]+)(?:\\s*\\[(\\d+\\.?\\d*)\\])?$/);\n                if (placeMatch) {\n                    place = placeMatch[1];\n                    proficiency = placeMatch[2] || \"\";\n                    //   console.log(`    Found place match: place=\"${place}\", proficiency=\"${proficiency}\"`);\n                    j++;\n                    // Find heat line (format: \"Heat 612\")\n                    while(j < lines.length){\n                        const heatLine = lines[j];\n                        // console.log(`  Checking for heat pattern in line ${j + 1}: \"${heatLine}\"`);\n                        const heatMatch = heatLine.match(/^(Heat|Solo)\\s+(\\d+)$/);\n                        checkSoloLine = heatLine.match(/^(Solo)\\s+\\d+$/);\n                        if (checkSoloLine) {\n                            // This is a Solo or Heat line, skip it\n                            console.log(heatLine);\n                        }\n                        if (heatMatch) {\n                            heatNumber = heatMatch[1] + \" \" + heatMatch[2];\n                            //   console.log(`      Found heat match: \"${heatNumber}\"`);\n                            j++;\n                            break;\n                        }\n                        j++;\n                    }\n                    // Find event description line (next line after heat)\n                    if (j < lines.length) {\n                        // console.log(`      Checking for event description in line ${j + 1}: \"${lines[j]}\"`);\n                        // Check if this is another student/teacher line\n                        const checkStudentTeacher = lines[j].match(/^(.+?)\\/(.+?)\\s*\\(#\\d+\\)\\s*\\[.+?\\]$|^(.+?)\\s*\\(#\\d+\\)\\/(.+?)\\s*\\[.+?\\]$/);\n                        if (!checkStudentTeacher) {\n                            eventDescription = lines[j];\n                            // Replace all double quotes with single quotes in event description\n                            eventDescription = eventDescription.replace(/\"/g, \"'\");\n                            if (checkSoloLine) {\n                                // This is a Solo or Heat line, skip it\n                                console.log(lines[j]);\n                            }\n                            //   console.log(`      Found event description: \"${eventDescription}\"`);\n                            j++;\n                        }\n                    }\n                    // Process this entry if we have all required information\n                    if (student && teacher && place && heatNumber && eventDescription) {\n                        if (checkSoloLine) {\n                            // This is a Solo or Heat line, skip it\n                            console.log(`    ✓ Complete entry found: Student=\"${student}\", Teacher=\"${teacher}\", Place=\"${place}\", Heat=\"${heatNumber}\", Proficiency=\"${proficiency}\", Event=\"${eventDescription}\"`);\n                        }\n                        // console.log(`    ✓ Complete entry found: Student=\"${student}\", Teacher=\"${teacher}\", Place=\"${place}\", Heat=\"${heatNumber}\", Event=\"${eventDescription}\"`);\n                        // Check for \"AC-\" or \"Pro heat\" indicators\n                        if (eventDescription.includes(\"AC-\")) {\n                            // Process AC- entries separately\n                            const fullEvent = ` ${heatNumber} ${eventDescription.trim()}`;\n                            let points = 0;\n                            // Base Points for Event Types\n                            if (fullEvent.includes(\"Schol\") || fullEvent.includes(\"Champ\")) {\n                                // For Scholarship or Championship events, count slashes between parentheses\n                                const parenthesesMatch = fullEvent.match(/\\(([^)]+)\\)/);\n                                if (parenthesesMatch) {\n                                    const contentInParentheses = parenthesesMatch[1];\n                                    const slashCount = (contentInParentheses.match(/\\//g) || []).length;\n                                    points = slashCount + 2;\n                                } else {\n                                    points = 2;\n                                }\n                            } else {\n                                points = 11;\n                            }\n                            // Additional Points for Placement or Proficiency\n                            if (proficiency) {\n                                const profScore = parseFloat(proficiency);\n                                if (profScore >= 96.5) {\n                                    points += 3;\n                                } else if (profScore >= 93.5) {\n                                    points += 2;\n                                } else if (profScore >= 89.5) {\n                                    points += 1;\n                                }\n                            } else {\n                                const placeNum = parseInt(place);\n                                if (placeNum === 1) {\n                                    points += 3;\n                                } else if (placeNum === 2) {\n                                    points += 2;\n                                } else if (placeNum === 3) {\n                                    points += 1;\n                                } else if (isNaN(placeNum)) {\n                                    points -= 1;\n                                }\n                            }\n                            processedDataAmateurCouples.push({\n                                Student: student.trim(),\n                                Teacher: teacher.trim(),\n                                Event: fullEvent.trim(),\n                                Place: place.trim(),\n                                Proficiency: proficiency ? proficiency.trim() : \"\",\n                                Points: points\n                            });\n                            continue;\n                        } else if (eventDescription.toLowerCase().includes(\"pro heat\")) {\n                            continue;\n                        }\n                        const fullEvent = ` ${heatNumber} ${eventDescription.trim()}`;\n                        let points = 0;\n                        // Base Points for Event Types\n                        if (fullEvent.includes(\"Schol\") || fullEvent.includes(\"Champ\")) {\n                            // For Scholarship or Championship events, count slashes between parentheses\n                            const parenthesesMatch = fullEvent.match(/\\(([^)]+)\\)/);\n                            if (parenthesesMatch) {\n                                const contentInParentheses = parenthesesMatch[1];\n                                const slashCount = (contentInParentheses.match(/\\//g) || []).length;\n                                points = slashCount + 2;\n                            } else {\n                                points = 2;\n                            }\n                        } else {\n                            // All individual entries, Solo, Novelty, Showcase\n                            points = 11;\n                        }\n                        // Additional Points for Placement or Proficiency\n                        if (proficiency) {\n                            const profScore = parseFloat(proficiency);\n                            if (profScore >= 96.5) {\n                                points += 3;\n                            } else if (profScore >= 93.5) {\n                                points += 2;\n                            } else if (profScore >= 89.5) {\n                                points += 1;\n                            }\n                        } else {\n                            const placeNum = parseInt(place);\n                            if (placeNum === 1) {\n                                points += 3;\n                            } else if (placeNum === 2) {\n                                points += 2;\n                            } else if (placeNum === 3) {\n                                points += 1;\n                            } else if (isNaN(placeNum)) {\n                                points -= 1;\n                            }\n                        }\n                        if (currentstudent !== student.trim()) {\n                            currentstudent = student.trim();\n                            if (processedData.length > 1) processedData.push({\n                                Student: \"Total :\",\n                                Teacher: \"\",\n                                Event: \"\",\n                                Place: \"\",\n                                Proficiency: \"\",\n                                Points: sumOfPoints\n                            });\n                            sumOfPoints = points;\n                        } else {\n                            sumOfPoints += points;\n                        }\n                        processedData.push({\n                            Student: student.trim(),\n                            Teacher: teacher.trim(),\n                            Event: fullEvent.trim(),\n                            Place: place.trim(),\n                            Proficiency: proficiency ? proficiency.trim() : \"\",\n                            Points: points\n                        });\n                    } else {\n                        console.log(`    ✗ Incomplete entry: Student=\"${student}\", Teacher=\"${teacher}\", Place=\"${place}\", Heat=\"${heatNumber}\", Event=\"${eventDescription}\"`);\n                    }\n                } else {\n                    console.log(`    No place pattern match for line: \"${placeLine}\"`);\n                    j++;\n                }\n            }\n            // Update i to j-1 so the main loop continues from where we left off\n            i = j - 1;\n        } else {\n            // Log lines that don't match student/teacher pattern (only first few for brevity)\n            if (i < 10) {\n                console.log(`Line ${i + 1} doesn't match student/teacher pattern: \"${line}\"`);\n            }\n        }\n    }\n    //   console.log(`=== PROCESSING COMPLETE ===`);\n    //   console.log(`Processed data entries: ${processedData.length}`);\n    //   console.log(`Amateur couples entries: ${processedDataAmateurCouples.length}`);\n    return {\n        processedData,\n        processedDataAmateurCouples\n    };\n}\nfunction generateCSVFromProcessedData(processedData, processedDataAmateurCouples) {\n    // Calculate totals for each unique student and teacher\n    const studentTotals = new Map();\n    const teacherTotals = new Map();\n    // Calculate totals from processed data (excluding any existing \"Total :\" entries)\n    processedData.forEach((entry)=>{\n        if (entry.Student !== \"Total :\") {\n            const student = entry.Student;\n            const teacher = entry.Teacher;\n            const points = entry.Points;\n            // Add to student totals\n            studentTotals.set(student, (studentTotals.get(student) || 0) + points);\n            // Add to teacher totals\n            teacherTotals.set(teacher, (teacherTotals.get(teacher) || 0) + points);\n        }\n    });\n    // Create final data array with proper order\n    const finalProcessedData = [];\n    // 1. Add student totals first\n    finalProcessedData.push({\n        Student: \"STUDENT TOTALS:\",\n        Teacher: \"\",\n        Event: \"\",\n        Place: \"\",\n        Proficiency: \"\",\n        Points: \"\"\n    });\n    studentTotals.forEach((total, student)=>{\n        finalProcessedData.push({\n            Student: student,\n            Teacher: \"\",\n            Event: \"\",\n            Place: \"\",\n            Proficiency: \"\",\n            Points: total\n        });\n    });\n    // 2. Add teacher totals\n    finalProcessedData.push({\n        Student: \"\",\n        Teacher: \"\",\n        Event: \"\",\n        Place: \"\",\n        Proficiency: \"\",\n        Points: \"\"\n    });\n    finalProcessedData.push({\n        Student: \"TEACHER TOTALS:\",\n        Teacher: \"\",\n        Event: \"\",\n        Place: \"\",\n        Proficiency: \"\",\n        Points: \"\"\n    });\n    teacherTotals.forEach((total, teacher)=>{\n        finalProcessedData.push({\n            Student: \"\",\n            Teacher: teacher,\n            Event: \"\",\n            Place: \"\",\n            Proficiency: \"\",\n            Points: total\n        });\n    });\n    // 3. Add Amateur Couples totals (if any)\n    if (processedDataAmateurCouples.length > 0) {\n        const amateurCoupleTotals = new Map();\n        processedDataAmateurCouples.forEach((entry)=>{\n            const coupleKey = `${entry.Student}/${entry.Teacher}`;\n            amateurCoupleTotals.set(coupleKey, (amateurCoupleTotals.get(coupleKey) || 0) + entry.Points);\n        });\n        finalProcessedData.push({\n            Student: \"\",\n            Teacher: \"\",\n            Event: \"\",\n            Place: \"\",\n            Proficiency: \"\",\n            Points: \"\"\n        });\n        finalProcessedData.push({\n            Student: \"AMATEUR COUPLES TOTALS:\",\n            Teacher: \"\",\n            Event: \"\",\n            Place: \"\",\n            Proficiency: \"\",\n            Points: \"\"\n        });\n        amateurCoupleTotals.forEach((total, couple)=>{\n            const [student, teacher] = couple.split(\"/\");\n            finalProcessedData.push({\n                Student: student,\n                Teacher: teacher,\n                Event: \"\",\n                Place: \"\",\n                Proficiency: \"\",\n                Points: total\n            });\n        });\n        // 4. Add Amateur Couples entries\n        finalProcessedData.push({\n            Student: \"\",\n            Teacher: \"\",\n            Event: \"\",\n            Place: \"\",\n            Proficiency: \"\",\n            Points: \"\"\n        });\n        finalProcessedData.push({\n            Student: \"AMATEUR COUPLES ENTRIES:\",\n            Teacher: \"\",\n            Event: \"\",\n            Place: \"\",\n            Proficiency: \"\",\n            Points: \"\"\n        });\n        processedDataAmateurCouples.forEach((entry)=>{\n            finalProcessedData.push(entry);\n        });\n    }\n    // 5. Add other entries (main competition entries)\n    finalProcessedData.push({\n        Student: \"\",\n        Teacher: \"\",\n        Event: \"\",\n        Place: \"\",\n        Proficiency: \"\",\n        Points: \"\"\n    });\n    finalProcessedData.push({\n        Student: \"MAIN COMPETITION ENTRIES:\",\n        Teacher: \"\",\n        Event: \"\",\n        Place: \"\",\n        Proficiency: \"\",\n        Points: \"\"\n    });\n    // Add all main entries (excluding \"Total :\" entries)\n    processedData.forEach((entry)=>{\n        if (entry.Student !== \"Total :\") {\n            finalProcessedData.push(entry);\n        }\n    });\n    // Generate CSV\n    const csvHeader = \"Student,Teacher,Event,Place,Proficiency,Points\\n\";\n    const csvRows = finalProcessedData.map((row)=>`\"${row.Student}\",\"${row.Teacher}\",\"${row.Event}\",\"${row.Place}\",\"${row.Proficiency}\",${row.Points}`).join(\"\\n\");\n    return csvHeader + csvRows;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNQQyxhQUFhO1FBQ2JDLFFBQVE7SUFDVjtJQUVBVSxtQkFBbUJoQixJQUFJLENBQUM7UUFDdEJDLFNBQVM7UUFDVEMsU0FBUztRQUNUQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsYUFBYTtRQUNiQyxRQUFRO0lBQ1Y7SUFFQSxxREFBcUQ7SUFDckQ1QyxjQUFja0QsT0FBTyxDQUFDLENBQUNDO1FBQ3JCLElBQUlBLE1BQU1aLE9BQU8sS0FBSyxXQUFXO1lBQy9CZSxtQkFBbUJoQixJQUFJLENBQUNhO1FBQzFCO0lBQ0Y7SUFFQSxlQUFlO0lBQ2YsTUFBTVMsWUFBWTtJQUNsQixNQUFNQyxVQUFVUCxtQkFDYlEsR0FBRyxDQUNGLENBQUNDLE1BQ0MsQ0FBQyxDQUFDLEVBQUVBLElBQUl4QixPQUFPLENBQUMsR0FBRyxFQUFFd0IsSUFBSXZCLE9BQU8sQ0FBQyxHQUFHLEVBQUV1QixJQUFJdEIsS0FBSyxDQUFDLEdBQUcsRUFBRXNCLElBQUlyQixLQUFLLENBQUMsR0FBRyxFQUFFcUIsSUFBSXBCLFdBQVcsQ0FBQyxFQUFFLEVBQUVvQixJQUFJbkIsTUFBTSxDQUFDLENBQUMsRUFFdkdvQixJQUFJLENBQUM7SUFFUixPQUFPSixZQUFZQztBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL21vcnJpc3Rvd24tcmVzdWx0cy8uL3NyYy9saWIvY29tcGV0aXRpb25Qcm9jZXNzb3IudHM/NDA5MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaGFyZWQgcHJvY2Vzc2luZyBsb2dpYyBmb3IgY29tcGV0aXRpb24gcmVzdWx0c1xyXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc0NvbXBldGl0aW9uRGF0YShsaW5lczogc3RyaW5nW10pIHtcclxuICBjb25zdCBwcm9jZXNzZWREYXRhOiBhbnlbXSA9IFtdO1xyXG4gIGNvbnN0IHByb2Nlc3NlZERhdGFBbWF0ZXVyQ291cGxlczogYW55W10gPSBbXTtcclxuICBsZXQgc3VtT2ZQb2ludHMgPSAwO1xyXG4gIGxldCBjdXJyZW50c3R1ZGVudDogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG5cclxuICAvLyAgIGNvbnNvbGUubG9nKCc9PT0gU1RBUlRJTkcgQ09NUEVUSVRJT04gREFUQSBQUk9DRVNTSU5HID09PScpO1xyXG4gIC8vICAgY29uc29sZS5sb2coYFRvdGFsIGxpbmVzIHRvIHByb2Nlc3M6ICR7bGluZXMubGVuZ3RofWApO1xyXG5cclxuICAvLyBQcm9jZXNzIGxpbmVzIHRvIGV4dHJhY3QgY29tcGV0aXRpb24gZGF0YVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGlzIGxpbmUgY29udGFpbnMgc3R1ZGVudC90ZWFjaGVyIGluZm8gaW4gZm9ybWF0OiBcIk5hbWUvTmFtZSAoI251bWJlcikgW0xvY2F0aW9uXVwiIG9yIFwiTmFtZSAoI251bWJlcikvTmFtZSBbTG9jYXRpb25dXCJcclxuICAgIGNvbnN0IHN0dWRlbnRUZWFjaGVyTWF0Y2ggPSBsaW5lLm1hdGNoKFxyXG4gICAgICAvXiguKz8pXFwvKC4rPylcXHMqXFwoI1xcZCtcXClcXHMqXFxbLis/XFxdJHxeKC4rPylcXHMqXFwoI1xcZCtcXClcXC8oLis/KVxccypcXFsuKz9cXF0kL1xyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoc3R1ZGVudFRlYWNoZXJNYXRjaCkge1xyXG4gICAgICAvLyAgIGNvbnNvbGUubG9nKGBGb3VuZCBzdHVkZW50L3RlYWNoZXIgbWF0Y2ggYXQgbGluZSAke2kgKyAxfTogXCIke2xpbmV9XCJgKTtcclxuXHJcbiAgICAgIC8vIEhhbmRsZSBib3RoIGZvcm1hdHM6IE5hbWUvTmFtZSAoI251bWJlcikgW0xvY2F0aW9uXSBhbmQgTmFtZSAoI251bWJlcikvTmFtZSBbTG9jYXRpb25dXHJcbiAgICAgIGxldCBzdHVkZW50LCB0ZWFjaGVyO1xyXG5cclxuICAgICAgaWYgKHN0dWRlbnRUZWFjaGVyTWF0Y2hbMV0gJiYgc3R1ZGVudFRlYWNoZXJNYXRjaFsyXSkge1xyXG4gICAgICAgIC8vIEZvcm1hdDogTmFtZS9OYW1lICgjbnVtYmVyKSBbTG9jYXRpb25dXHJcbiAgICAgICAgc3R1ZGVudCA9IHN0dWRlbnRUZWFjaGVyTWF0Y2hbMV0udHJpbSgpO1xyXG4gICAgICAgIHRlYWNoZXIgPSBzdHVkZW50VGVhY2hlck1hdGNoWzJdLnRyaW0oKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgICBGb3JtYXQgMSAtIFN0dWRlbnQ6IFwiJHtzdHVkZW50fVwiLCBUZWFjaGVyOiBcIiR7dGVhY2hlcn1cImApO1xyXG4gICAgICB9IGVsc2UgaWYgKHN0dWRlbnRUZWFjaGVyTWF0Y2hbM10gJiYgc3R1ZGVudFRlYWNoZXJNYXRjaFs0XSkge1xyXG4gICAgICAgIC8vIEZvcm1hdDogTmFtZSAoI251bWJlcikvTmFtZSBbTG9jYXRpb25dXHJcbiAgICAgICAgc3R1ZGVudCA9IHN0dWRlbnRUZWFjaGVyTWF0Y2hbM10udHJpbSgpO1xyXG4gICAgICAgIHRlYWNoZXIgPSBzdHVkZW50VGVhY2hlck1hdGNoWzRdLnRyaW0oKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgICBGb3JtYXQgMiAtIFN0dWRlbnQ6IFwiJHtzdHVkZW50fVwiLCBUZWFjaGVyOiBcIiR7dGVhY2hlcn1cImApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMb29rIGFoZWFkIGZvciBhbGwgcGxhY2UvcHJvZmljaWVuY3kgYW5kIGhlYXQvZXZlbnQgaW5mb3JtYXRpb24gZm9yIHRoaXMgc3R1ZGVudC90ZWFjaGVyIHBhaXJcclxuICAgICAgbGV0IGogPSBpICsgMTtcclxuICAgICAgLy8gICBjb25zb2xlLmxvZyhgICBMb29raW5nIGFoZWFkIGZyb20gbGluZSAke2ogKyAxfSBmb3IgY29tcGV0aXRpb24gZGF0YS4uLmApO1xyXG5cclxuICAgICAgLy8gQ29udGludWUgcHJvY2Vzc2luZyBlbnRyaWVzIHVudGlsIHdlIGhpdCBhbm90aGVyIHN0dWRlbnQvdGVhY2hlciBsaW5lIG9yIGVuZCBvZiBmaWxlXHJcbiAgICAgIHdoaWxlIChqIDwgbGluZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYCAgICBDaGVja2luZyBsaW5lICR7aiArIDF9OiBcIiR7bGluZXNbal19XCJgKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UndmUgaGl0IGFub3RoZXIgc3R1ZGVudC90ZWFjaGVyIGxpbmVcclxuICAgICAgICBjb25zdCBuZXh0U3R1ZGVudFRlYWNoZXJNYXRjaCA9IGxpbmVzW2pdLm1hdGNoKFxyXG4gICAgICAgICAgL14oLis/KVxcLyguKz8pXFxzKlxcKCNcXGQrXFwpXFxzKlxcWy4rP1xcXSR8XiguKz8pXFxzKlxcKCNcXGQrXFwpXFwvKC4rPylcXHMqXFxbLis/XFxdJC9cclxuICAgICAgICApO1xyXG4gICAgICAgIGlmIChuZXh0U3R1ZGVudFRlYWNoZXJNYXRjaCkge1xyXG4gICAgICAgIC8vICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgLy8gICAgIGAgICAgRm91bmQgbmV4dCBzdHVkZW50L3RlYWNoZXIgbGluZSwgc3RvcHBpbmcgcHJvY2Vzc2luZyBmb3IgY3VycmVudCBwYWlyYFxyXG4gICAgICAgIC8vICAgKTtcclxuICAgICAgICAgIC8vIEZvdW5kIGFub3RoZXIgc3R1ZGVudC90ZWFjaGVyIHBhaXIsIHN0b3AgcHJvY2Vzc2luZyBjdXJyZW50IHBhaXJcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHBsYWNlID0gJyc7XHJcbiAgICAgICAgbGV0IHByb2ZpY2llbmN5ID0gJyc7XHJcbiAgICAgICAgbGV0IGhlYXROdW1iZXIgPSAnJztcclxuICAgICAgICBsZXQgZXZlbnREZXNjcmlwdGlvbiA9ICcnO1xyXG5cclxuICAgICAgICAvLyBGaW5kIHBsYWNlL3Byb2ZpY2llbmN5IGxpbmUgKGZvcm1hdDogXCIxIFs5My4wXVwiLCBcIjFcIiwgXCIqQSBbOTUuMF1cIiwgXCIqQVwiLCBldGMuKVxyXG4gICAgICAgIGNvbnN0IHBsYWNlTGluZSA9IGxpbmVzW2pdO1xyXG4gICAgICAgIGxldCBjaGVja1NvbG9MaW5lID0gcGxhY2VMaW5lLm1hdGNoKC9eKFNvbG8pXFxzK1xcZCskLyk7XHJcbiAgICAgICAgY29uc3QgcGxhY2VNYXRjaCA9IHBsYWNlTGluZS5tYXRjaChcclxuICAgICAgICAgIC9eKFsqXT9bQS1aYS16MC05XSspKD86XFxzKlxcWyhcXGQrXFwuP1xcZCopXFxdKT8kL1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHBsYWNlTWF0Y2gpIHtcclxuICAgICAgICAgIHBsYWNlID0gcGxhY2VNYXRjaFsxXTtcclxuICAgICAgICAgIHByb2ZpY2llbmN5ID0gcGxhY2VNYXRjaFsyXSB8fCAnJztcclxuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKGAgICAgRm91bmQgcGxhY2UgbWF0Y2g6IHBsYWNlPVwiJHtwbGFjZX1cIiwgcHJvZmljaWVuY3k9XCIke3Byb2ZpY2llbmN5fVwiYCk7XHJcbiAgICAgICAgICBqKys7XHJcblxyXG4gICAgICAgICAgLy8gRmluZCBoZWF0IGxpbmUgKGZvcm1hdDogXCJIZWF0IDYxMlwiKVxyXG4gICAgICAgICAgd2hpbGUgKGogPCBsaW5lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgaGVhdExpbmUgPSBsaW5lc1tqXTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYCAgQ2hlY2tpbmcgZm9yIGhlYXQgcGF0dGVybiBpbiBsaW5lICR7aiArIDF9OiBcIiR7aGVhdExpbmV9XCJgKTtcclxuICAgICAgICAgICAgY29uc3QgaGVhdE1hdGNoID0gaGVhdExpbmUubWF0Y2goL14oSGVhdHxTb2xvKVxccysoXFxkKykkLyk7XHJcbiAgICAgICAgICAgICBjaGVja1NvbG9MaW5lID0gaGVhdExpbmUubWF0Y2goL14oU29sbylcXHMrXFxkKyQvKTtcclxuICAgICAgICBpZiAoY2hlY2tTb2xvTGluZSkge1xyXG4gICAgICAgICAgLy8gVGhpcyBpcyBhIFNvbG8gb3IgSGVhdCBsaW5lLCBza2lwIGl0XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhoZWF0TGluZSk7IFxyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGhlYXRNYXRjaCkge1xyXG4gICAgICAgICAgICAgIGhlYXROdW1iZXIgPSBoZWF0TWF0Y2hbMV0gKyAnICcgKyBoZWF0TWF0Y2hbMl07XHJcbiAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhgICAgICAgRm91bmQgaGVhdCBtYXRjaDogXCIke2hlYXROdW1iZXJ9XCJgKTtcclxuICAgICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaisrO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEZpbmQgZXZlbnQgZGVzY3JpcHRpb24gbGluZSAobmV4dCBsaW5lIGFmdGVyIGhlYXQpXHJcbiAgICAgICAgICBpZiAoaiA8IGxpbmVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgICAgICAgQ2hlY2tpbmcgZm9yIGV2ZW50IGRlc2NyaXB0aW9uIGluIGxpbmUgJHtqICsgMX06IFwiJHtsaW5lc1tqXX1cImApO1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGFub3RoZXIgc3R1ZGVudC90ZWFjaGVyIGxpbmVcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tTdHVkZW50VGVhY2hlciA9IGxpbmVzW2pdLm1hdGNoKFxyXG4gICAgICAgICAgICAgIC9eKC4rPylcXC8oLis/KVxccypcXCgjXFxkK1xcKVxccypcXFsuKz9cXF0kfF4oLis/KVxccypcXCgjXFxkK1xcKVxcLyguKz8pXFxzKlxcWy4rP1xcXSQvXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmICghY2hlY2tTdHVkZW50VGVhY2hlcikge1xyXG4gICAgICAgICAgICAgIGV2ZW50RGVzY3JpcHRpb24gPSBsaW5lc1tqXTtcclxuICAgICAgICAgICAgICAvLyBSZXBsYWNlIGFsbCBkb3VibGUgcXVvdGVzIHdpdGggc2luZ2xlIHF1b3RlcyBpbiBldmVudCBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgIGV2ZW50RGVzY3JpcHRpb24gPSBldmVudERlc2NyaXB0aW9uLnJlcGxhY2UoL1wiL2csIFwiJ1wiKTtcclxuICAgICAgICAgICAgICBpZiAoY2hlY2tTb2xvTGluZSkge1xyXG4gICAgICAgICAgLy8gVGhpcyBpcyBhIFNvbG8gb3IgSGVhdCBsaW5lLCBza2lwIGl0XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhsaW5lc1tqXSk7IFxyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKGAgICAgICBGb3VuZCBldmVudCBkZXNjcmlwdGlvbjogXCIke2V2ZW50RGVzY3JpcHRpb259XCJgKTtcclxuICAgICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBQcm9jZXNzIHRoaXMgZW50cnkgaWYgd2UgaGF2ZSBhbGwgcmVxdWlyZWQgaW5mb3JtYXRpb25cclxuICAgICAgICAgIGlmIChzdHVkZW50ICYmIHRlYWNoZXIgJiYgcGxhY2UgJiYgaGVhdE51bWJlciAmJiBldmVudERlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGVja1NvbG9MaW5lKSB7XHJcbiAgICAgICAgICAvLyBUaGlzIGlzIGEgU29sbyBvciBIZWF0IGxpbmUsIHNraXAgaXRcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGAgICAg4pyTIENvbXBsZXRlIGVudHJ5IGZvdW5kOiBTdHVkZW50PVwiJHtzdHVkZW50fVwiLCBUZWFjaGVyPVwiJHt0ZWFjaGVyfVwiLCBQbGFjZT1cIiR7cGxhY2V9XCIsIEhlYXQ9XCIke2hlYXROdW1iZXJ9XCIsIFByb2ZpY2llbmN5PVwiJHtwcm9maWNpZW5jeX1cIiwgRXZlbnQ9XCIke2V2ZW50RGVzY3JpcHRpb259XCJgKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgICAgIOKckyBDb21wbGV0ZSBlbnRyeSBmb3VuZDogU3R1ZGVudD1cIiR7c3R1ZGVudH1cIiwgVGVhY2hlcj1cIiR7dGVhY2hlcn1cIiwgUGxhY2U9XCIke3BsYWNlfVwiLCBIZWF0PVwiJHtoZWF0TnVtYmVyfVwiLCBFdmVudD1cIiR7ZXZlbnREZXNjcmlwdGlvbn1cImApO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIFwiQUMtXCIgb3IgXCJQcm8gaGVhdFwiIGluZGljYXRvcnNcclxuICAgICAgICAgICAgaWYgKGV2ZW50RGVzY3JpcHRpb24uaW5jbHVkZXMoJ0FDLScpKSB7XHJcbiAgICAgICAgICAgICAgLy8gUHJvY2VzcyBBQy0gZW50cmllcyBzZXBhcmF0ZWx5XHJcbiAgICAgICAgICAgICAgY29uc3QgZnVsbEV2ZW50ID0gYCAke2hlYXROdW1iZXJ9ICR7ZXZlbnREZXNjcmlwdGlvbi50cmltKCl9YDtcclxuICAgICAgICAgICAgICBsZXQgcG9pbnRzID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQmFzZSBQb2ludHMgZm9yIEV2ZW50IFR5cGVzXHJcbiAgICAgICAgICAgICAgaWYgKGZ1bGxFdmVudC5pbmNsdWRlcygnU2Nob2wnKSB8fCBmdWxsRXZlbnQuaW5jbHVkZXMoJ0NoYW1wJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIEZvciBTY2hvbGFyc2hpcCBvciBDaGFtcGlvbnNoaXAgZXZlbnRzLCBjb3VudCBzbGFzaGVzIGJldHdlZW4gcGFyZW50aGVzZXNcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudGhlc2VzTWF0Y2ggPSBmdWxsRXZlbnQubWF0Y2goL1xcKChbXildKylcXCkvKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRoZXNlc01hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRJblBhcmVudGhlc2VzID0gcGFyZW50aGVzZXNNYXRjaFsxXTtcclxuICAgICAgICAgICAgICAgICAgY29uc3Qgc2xhc2hDb3VudCA9IChjb250ZW50SW5QYXJlbnRoZXNlcy5tYXRjaCgvXFwvL2cpIHx8IFtdKVxyXG4gICAgICAgICAgICAgICAgICAgIC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgIHBvaW50cyA9IHNsYXNoQ291bnQgKyAyO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgcG9pbnRzID0gMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzID0gMTE7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBBZGRpdGlvbmFsIFBvaW50cyBmb3IgUGxhY2VtZW50IG9yIFByb2ZpY2llbmN5XHJcbiAgICAgICAgICAgICAgaWYgKHByb2ZpY2llbmN5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9mU2NvcmUgPSBwYXJzZUZsb2F0KHByb2ZpY2llbmN5KTtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9mU2NvcmUgPj0gOTYuNSkge1xyXG4gICAgICAgICAgICAgICAgICBwb2ludHMgKz0gMztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvZlNjb3JlID49IDkzLjUpIHtcclxuICAgICAgICAgICAgICAgICAgcG9pbnRzICs9IDI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByb2ZTY29yZSA+PSA4OS41KSB7XHJcbiAgICAgICAgICAgICAgICAgIHBvaW50cyArPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZU51bSA9IHBhcnNlSW50KHBsYWNlKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZU51bSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICBwb2ludHMgKz0gMztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VOdW0gPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgcG9pbnRzICs9IDI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYWNlTnVtID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgIHBvaW50cyArPSAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc05hTihwbGFjZU51bSkpIHtcclxuICAgICAgICAgICAgICAgICAgcG9pbnRzIC09IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBwcm9jZXNzZWREYXRhQW1hdGV1ckNvdXBsZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBTdHVkZW50OiBzdHVkZW50LnRyaW0oKSxcclxuICAgICAgICAgICAgICAgIFRlYWNoZXI6IHRlYWNoZXIudHJpbSgpLFxyXG4gICAgICAgICAgICAgICAgRXZlbnQ6IGZ1bGxFdmVudC50cmltKCksXHJcbiAgICAgICAgICAgICAgICBQbGFjZTogcGxhY2UudHJpbSgpLFxyXG4gICAgICAgICAgICAgICAgUHJvZmljaWVuY3k6IHByb2ZpY2llbmN5ID8gcHJvZmljaWVuY3kudHJpbSgpIDogJycsXHJcbiAgICAgICAgICAgICAgICBQb2ludHM6IHBvaW50cyxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudERlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3BybyBoZWF0JykpIHtcclxuICAgICAgICAgICAgICAvLyBTa2lwIGZpbHRlcmVkIGVudHJpZXNcclxuICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgZnVsbEV2ZW50ID0gYCAke2hlYXROdW1iZXJ9ICR7ZXZlbnREZXNjcmlwdGlvbi50cmltKCl9YDtcclxuICAgICAgICAgICAgbGV0IHBvaW50cyA9IDA7XHJcblxyXG4gICAgICAgICAgICAvLyBCYXNlIFBvaW50cyBmb3IgRXZlbnQgVHlwZXNcclxuICAgICAgICAgICAgaWYgKGZ1bGxFdmVudC5pbmNsdWRlcygnU2Nob2wnKSB8fCBmdWxsRXZlbnQuaW5jbHVkZXMoJ0NoYW1wJykpIHtcclxuICAgICAgICAgICAgICAvLyBGb3IgU2Nob2xhcnNoaXAgb3IgQ2hhbXBpb25zaGlwIGV2ZW50cywgY291bnQgc2xhc2hlcyBiZXR3ZWVuIHBhcmVudGhlc2VzXHJcbiAgICAgICAgICAgICAgY29uc3QgcGFyZW50aGVzZXNNYXRjaCA9IGZ1bGxFdmVudC5tYXRjaCgvXFwoKFteKV0rKVxcKS8pO1xyXG4gICAgICAgICAgICAgIGlmIChwYXJlbnRoZXNlc01hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50SW5QYXJlbnRoZXNlcyA9IHBhcmVudGhlc2VzTWF0Y2hbMV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzbGFzaENvdW50ID0gKGNvbnRlbnRJblBhcmVudGhlc2VzLm1hdGNoKC9cXC8vZykgfHwgW10pXHJcbiAgICAgICAgICAgICAgICAgIC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBzbGFzaENvdW50ICsgMjtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzID0gMjtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gQWxsIGluZGl2aWR1YWwgZW50cmllcywgU29sbywgTm92ZWx0eSwgU2hvd2Nhc2VcclxuICAgICAgICAgICAgICBwb2ludHMgPSAxMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQWRkaXRpb25hbCBQb2ludHMgZm9yIFBsYWNlbWVudCBvciBQcm9maWNpZW5jeVxyXG4gICAgICAgICAgICBpZiAocHJvZmljaWVuY3kpIHtcclxuICAgICAgICAgICAgICBjb25zdCBwcm9mU2NvcmUgPSBwYXJzZUZsb2F0KHByb2ZpY2llbmN5KTtcclxuICAgICAgICAgICAgICBpZiAocHJvZlNjb3JlID49IDk2LjUpIHtcclxuICAgICAgICAgICAgICAgIHBvaW50cyArPSAzO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvZlNjb3JlID49IDkzLjUpIHtcclxuICAgICAgICAgICAgICAgIHBvaW50cyArPSAyO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvZlNjb3JlID49IDg5LjUpIHtcclxuICAgICAgICAgICAgICAgIHBvaW50cyArPSAxO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjb25zdCBwbGFjZU51bSA9IHBhcnNlSW50KHBsYWNlKTtcclxuICAgICAgICAgICAgICBpZiAocGxhY2VOdW0gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHBvaW50cyArPSAzO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VOdW0gPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHBvaW50cyArPSAyO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VOdW0gPT09IDMpIHtcclxuICAgICAgICAgICAgICAgIHBvaW50cyArPSAxO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOYU4ocGxhY2VOdW0pKSB7XHJcbiAgICAgICAgICAgICAgICBwb2ludHMgLT0gMTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50c3R1ZGVudCAhPT0gc3R1ZGVudC50cmltKCkpIHtcclxuICAgICAgICAgICAgICBjdXJyZW50c3R1ZGVudCA9IHN0dWRlbnQudHJpbSgpO1xyXG4gICAgICAgICAgICAgIGlmIChwcm9jZXNzZWREYXRhLmxlbmd0aCA+IDEpXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWREYXRhLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICBTdHVkZW50OiAnVG90YWwgOicsXHJcbiAgICAgICAgICAgICAgICAgIFRlYWNoZXI6ICcnLFxyXG4gICAgICAgICAgICAgICAgICBFdmVudDogJycsXHJcbiAgICAgICAgICAgICAgICAgIFBsYWNlOiAnJyxcclxuICAgICAgICAgICAgICAgICAgUHJvZmljaWVuY3k6ICcnLFxyXG4gICAgICAgICAgICAgICAgICBQb2ludHM6IHN1bU9mUG9pbnRzLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgc3VtT2ZQb2ludHMgPSBwb2ludHM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc3VtT2ZQb2ludHMgKz0gcG9pbnRzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwcm9jZXNzZWREYXRhLnB1c2goe1xyXG4gICAgICAgICAgICAgIFN0dWRlbnQ6IHN0dWRlbnQudHJpbSgpLFxyXG4gICAgICAgICAgICAgIFRlYWNoZXI6IHRlYWNoZXIudHJpbSgpLFxyXG4gICAgICAgICAgICAgIEV2ZW50OiBmdWxsRXZlbnQudHJpbSgpLFxyXG4gICAgICAgICAgICAgIFBsYWNlOiBwbGFjZS50cmltKCksXHJcbiAgICAgICAgICAgICAgUHJvZmljaWVuY3k6IHByb2ZpY2llbmN5ID8gcHJvZmljaWVuY3kudHJpbSgpIDogJycsXHJcbiAgICAgICAgICAgICAgUG9pbnRzOiBwb2ludHMsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgICAgYCAgICDinJcgSW5jb21wbGV0ZSBlbnRyeTogU3R1ZGVudD1cIiR7c3R1ZGVudH1cIiwgVGVhY2hlcj1cIiR7dGVhY2hlcn1cIiwgUGxhY2U9XCIke3BsYWNlfVwiLCBIZWF0PVwiJHtoZWF0TnVtYmVyfVwiLCBFdmVudD1cIiR7ZXZlbnREZXNjcmlwdGlvbn1cImBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYCAgICBObyBwbGFjZSBwYXR0ZXJuIG1hdGNoIGZvciBsaW5lOiBcIiR7cGxhY2VMaW5lfVwiYCk7XHJcbiAgICAgICAgICBqKys7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBVcGRhdGUgaSB0byBqLTEgc28gdGhlIG1haW4gbG9vcCBjb250aW51ZXMgZnJvbSB3aGVyZSB3ZSBsZWZ0IG9mZlxyXG4gICAgICBpID0gaiAtIDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBMb2cgbGluZXMgdGhhdCBkb24ndCBtYXRjaCBzdHVkZW50L3RlYWNoZXIgcGF0dGVybiAob25seSBmaXJzdCBmZXcgZm9yIGJyZXZpdHkpXHJcbiAgICAgIGlmIChpIDwgMTApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgIGBMaW5lICR7aSArIDF9IGRvZXNuJ3QgbWF0Y2ggc3R1ZGVudC90ZWFjaGVyIHBhdHRlcm46IFwiJHtsaW5lfVwiYFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vICAgY29uc29sZS5sb2coYD09PSBQUk9DRVNTSU5HIENPTVBMRVRFID09PWApO1xyXG4gIC8vICAgY29uc29sZS5sb2coYFByb2Nlc3NlZCBkYXRhIGVudHJpZXM6ICR7cHJvY2Vzc2VkRGF0YS5sZW5ndGh9YCk7XHJcbiAgLy8gICBjb25zb2xlLmxvZyhgQW1hdGV1ciBjb3VwbGVzIGVudHJpZXM6ICR7cHJvY2Vzc2VkRGF0YUFtYXRldXJDb3VwbGVzLmxlbmd0aH1gKTtcclxuXHJcbiAgcmV0dXJuIHsgcHJvY2Vzc2VkRGF0YSwgcHJvY2Vzc2VkRGF0YUFtYXRldXJDb3VwbGVzIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNTVkZyb21Qcm9jZXNzZWREYXRhKFxyXG4gIHByb2Nlc3NlZERhdGE6IGFueVtdLFxyXG4gIHByb2Nlc3NlZERhdGFBbWF0ZXVyQ291cGxlczogYW55W11cclxuKSB7XHJcbiAgLy8gQ2FsY3VsYXRlIHRvdGFscyBmb3IgZWFjaCB1bmlxdWUgc3R1ZGVudCBhbmQgdGVhY2hlclxyXG4gIGNvbnN0IHN0dWRlbnRUb3RhbHMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xyXG4gIGNvbnN0IHRlYWNoZXJUb3RhbHMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xyXG5cclxuICAvLyBDYWxjdWxhdGUgdG90YWxzIGZyb20gcHJvY2Vzc2VkIGRhdGEgKGV4Y2x1ZGluZyBhbnkgZXhpc3RpbmcgXCJUb3RhbCA6XCIgZW50cmllcylcclxuICBwcm9jZXNzZWREYXRhLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICBpZiAoZW50cnkuU3R1ZGVudCAhPT0gJ1RvdGFsIDonKSB7XHJcbiAgICAgIGNvbnN0IHN0dWRlbnQgPSBlbnRyeS5TdHVkZW50O1xyXG4gICAgICBjb25zdCB0ZWFjaGVyID0gZW50cnkuVGVhY2hlcjtcclxuICAgICAgY29uc3QgcG9pbnRzID0gZW50cnkuUG9pbnRzO1xyXG5cclxuICAgICAgLy8gQWRkIHRvIHN0dWRlbnQgdG90YWxzXHJcbiAgICAgIHN0dWRlbnRUb3RhbHMuc2V0KHN0dWRlbnQsIChzdHVkZW50VG90YWxzLmdldChzdHVkZW50KSB8fCAwKSArIHBvaW50cyk7XHJcblxyXG4gICAgICAvLyBBZGQgdG8gdGVhY2hlciB0b3RhbHNcclxuICAgICAgdGVhY2hlclRvdGFscy5zZXQodGVhY2hlciwgKHRlYWNoZXJUb3RhbHMuZ2V0KHRlYWNoZXIpIHx8IDApICsgcG9pbnRzKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gQ3JlYXRlIGZpbmFsIGRhdGEgYXJyYXkgd2l0aCBwcm9wZXIgb3JkZXJcclxuICBjb25zdCBmaW5hbFByb2Nlc3NlZERhdGE6IGFueVtdID0gW107XHJcblxyXG4gIC8vIDEuIEFkZCBzdHVkZW50IHRvdGFscyBmaXJzdFxyXG4gIGZpbmFsUHJvY2Vzc2VkRGF0YS5wdXNoKHtcclxuICAgIFN0dWRlbnQ6ICdTVFVERU5UIFRPVEFMUzonLFxyXG4gICAgVGVhY2hlcjogJycsXHJcbiAgICBFdmVudDogJycsXHJcbiAgICBQbGFjZTogJycsXHJcbiAgICBQcm9maWNpZW5jeTogJycsXHJcbiAgICBQb2ludHM6ICcnLFxyXG4gIH0pO1xyXG5cclxuICBzdHVkZW50VG90YWxzLmZvckVhY2goKHRvdGFsLCBzdHVkZW50KSA9PiB7XHJcbiAgICBmaW5hbFByb2Nlc3NlZERhdGEucHVzaCh7XHJcbiAgICAgIFN0dWRlbnQ6IHN0dWRlbnQsXHJcbiAgICAgIFRlYWNoZXI6ICcnLFxyXG4gICAgICBFdmVudDogJycsXHJcbiAgICAgIFBsYWNlOiAnJyxcclxuICAgICAgUHJvZmljaWVuY3k6ICcnLFxyXG4gICAgICBQb2ludHM6IHRvdGFsLFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIDIuIEFkZCB0ZWFjaGVyIHRvdGFsc1xyXG4gIGZpbmFsUHJvY2Vzc2VkRGF0YS5wdXNoKHtcclxuICAgIFN0dWRlbnQ6ICcnLFxyXG4gICAgVGVhY2hlcjogJycsXHJcbiAgICBFdmVudDogJycsXHJcbiAgICBQbGFjZTogJycsXHJcbiAgICBQcm9maWNpZW5jeTogJycsXHJcbiAgICBQb2ludHM6ICcnLFxyXG4gIH0pO1xyXG5cclxuICBmaW5hbFByb2Nlc3NlZERhdGEucHVzaCh7XHJcbiAgICBTdHVkZW50OiAnVEVBQ0hFUiBUT1RBTFM6JyxcclxuICAgIFRlYWNoZXI6ICcnLFxyXG4gICAgRXZlbnQ6ICcnLFxyXG4gICAgUGxhY2U6ICcnLFxyXG4gICAgUHJvZmljaWVuY3k6ICcnLFxyXG4gICAgUG9pbnRzOiAnJyxcclxuICB9KTtcclxuXHJcbiAgdGVhY2hlclRvdGFscy5mb3JFYWNoKCh0b3RhbCwgdGVhY2hlcikgPT4ge1xyXG4gICAgZmluYWxQcm9jZXNzZWREYXRhLnB1c2goe1xyXG4gICAgICBTdHVkZW50OiAnJyxcclxuICAgICAgVGVhY2hlcjogdGVhY2hlcixcclxuICAgICAgRXZlbnQ6ICcnLFxyXG4gICAgICBQbGFjZTogJycsXHJcbiAgICAgIFByb2ZpY2llbmN5OiAnJyxcclxuICAgICAgUG9pbnRzOiB0b3RhbCxcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyAzLiBBZGQgQW1hdGV1ciBDb3VwbGVzIHRvdGFscyAoaWYgYW55KVxyXG4gIGlmIChwcm9jZXNzZWREYXRhQW1hdGV1ckNvdXBsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgY29uc3QgYW1hdGV1ckNvdXBsZVRvdGFscyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XHJcblxyXG4gICAgcHJvY2Vzc2VkRGF0YUFtYXRldXJDb3VwbGVzLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvdXBsZUtleSA9IGAke2VudHJ5LlN0dWRlbnR9LyR7ZW50cnkuVGVhY2hlcn1gO1xyXG4gICAgICBhbWF0ZXVyQ291cGxlVG90YWxzLnNldChcclxuICAgICAgICBjb3VwbGVLZXksXHJcbiAgICAgICAgKGFtYXRldXJDb3VwbGVUb3RhbHMuZ2V0KGNvdXBsZUtleSkgfHwgMCkgKyBlbnRyeS5Qb2ludHNcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZpbmFsUHJvY2Vzc2VkRGF0YS5wdXNoKHtcclxuICAgICAgU3R1ZGVudDogJycsXHJcbiAgICAgIFRlYWNoZXI6ICcnLFxyXG4gICAgICBFdmVudDogJycsXHJcbiAgICAgIFBsYWNlOiAnJyxcclxuICAgICAgUHJvZmljaWVuY3k6ICcnLFxyXG4gICAgICBQb2ludHM6ICcnLFxyXG4gICAgfSk7XHJcblxyXG4gICAgZmluYWxQcm9jZXNzZWREYXRhLnB1c2goe1xyXG4gICAgICBTdHVkZW50OiAnQU1BVEVVUiBDT1VQTEVTIFRPVEFMUzonLFxyXG4gICAgICBUZWFjaGVyOiAnJyxcclxuICAgICAgRXZlbnQ6ICcnLFxyXG4gICAgICBQbGFjZTogJycsXHJcbiAgICAgIFByb2ZpY2llbmN5OiAnJyxcclxuICAgICAgUG9pbnRzOiAnJyxcclxuICAgIH0pO1xyXG5cclxuICAgIGFtYXRldXJDb3VwbGVUb3RhbHMuZm9yRWFjaCgodG90YWwsIGNvdXBsZSkgPT4ge1xyXG4gICAgICBjb25zdCBbc3R1ZGVudCwgdGVhY2hlcl0gPSBjb3VwbGUuc3BsaXQoJy8nKTtcclxuICAgICAgZmluYWxQcm9jZXNzZWREYXRhLnB1c2goe1xyXG4gICAgICAgIFN0dWRlbnQ6IHN0dWRlbnQsXHJcbiAgICAgICAgVGVhY2hlcjogdGVhY2hlcixcclxuICAgICAgICBFdmVudDogJycsXHJcbiAgICAgICAgUGxhY2U6ICcnLFxyXG4gICAgICAgIFByb2ZpY2llbmN5OiAnJyxcclxuICAgICAgICBQb2ludHM6IHRvdGFsLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIDQuIEFkZCBBbWF0ZXVyIENvdXBsZXMgZW50cmllc1xyXG4gICAgZmluYWxQcm9jZXNzZWREYXRhLnB1c2goe1xyXG4gICAgICBTdHVkZW50OiAnJyxcclxuICAgICAgVGVhY2hlcjogJycsXHJcbiAgICAgIEV2ZW50OiAnJyxcclxuICAgICAgUGxhY2U6ICcnLFxyXG4gICAgICBQcm9maWNpZW5jeTogJycsXHJcbiAgICAgIFBvaW50czogJycsXHJcbiAgICB9KTtcclxuXHJcbiAgICBmaW5hbFByb2Nlc3NlZERhdGEucHVzaCh7XHJcbiAgICAgIFN0dWRlbnQ6ICdBTUFURVVSIENPVVBMRVMgRU5UUklFUzonLFxyXG4gICAgICBUZWFjaGVyOiAnJyxcclxuICAgICAgRXZlbnQ6ICcnLFxyXG4gICAgICBQbGFjZTogJycsXHJcbiAgICAgIFByb2ZpY2llbmN5OiAnJyxcclxuICAgICAgUG9pbnRzOiAnJyxcclxuICAgIH0pO1xyXG5cclxuICAgIHByb2Nlc3NlZERhdGFBbWF0ZXVyQ291cGxlcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICBmaW5hbFByb2Nlc3NlZERhdGEucHVzaChlbnRyeSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIDUuIEFkZCBvdGhlciBlbnRyaWVzIChtYWluIGNvbXBldGl0aW9uIGVudHJpZXMpXHJcbiAgZmluYWxQcm9jZXNzZWREYXRhLnB1c2goe1xyXG4gICAgU3R1ZGVudDogJycsXHJcbiAgICBUZWFjaGVyOiAnJyxcclxuICAgIEV2ZW50OiAnJyxcclxuICAgIFBsYWNlOiAnJyxcclxuICAgIFByb2ZpY2llbmN5OiAnJyxcclxuICAgIFBvaW50czogJycsXHJcbiAgfSk7XHJcblxyXG4gIGZpbmFsUHJvY2Vzc2VkRGF0YS5wdXNoKHtcclxuICAgIFN0dWRlbnQ6ICdNQUlOIENPTVBFVElUSU9OIEVOVFJJRVM6JyxcclxuICAgIFRlYWNoZXI6ICcnLFxyXG4gICAgRXZlbnQ6ICcnLFxyXG4gICAgUGxhY2U6ICcnLFxyXG4gICAgUHJvZmljaWVuY3k6ICcnLFxyXG4gICAgUG9pbnRzOiAnJyxcclxuICB9KTtcclxuXHJcbiAgLy8gQWRkIGFsbCBtYWluIGVudHJpZXMgKGV4Y2x1ZGluZyBcIlRvdGFsIDpcIiBlbnRyaWVzKVxyXG4gIHByb2Nlc3NlZERhdGEuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgIGlmIChlbnRyeS5TdHVkZW50ICE9PSAnVG90YWwgOicpIHtcclxuICAgICAgZmluYWxQcm9jZXNzZWREYXRhLnB1c2goZW50cnkpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBHZW5lcmF0ZSBDU1ZcclxuICBjb25zdCBjc3ZIZWFkZXIgPSAnU3R1ZGVudCxUZWFjaGVyLEV2ZW50LFBsYWNlLFByb2ZpY2llbmN5LFBvaW50c1xcbic7XHJcbiAgY29uc3QgY3N2Um93cyA9IGZpbmFsUHJvY2Vzc2VkRGF0YVxyXG4gICAgLm1hcChcclxuICAgICAgKHJvdykgPT5cclxuICAgICAgICBgXCIke3Jvdy5TdHVkZW50fVwiLFwiJHtyb3cuVGVhY2hlcn1cIixcIiR7cm93LkV2ZW50fVwiLFwiJHtyb3cuUGxhY2V9XCIsXCIke3Jvdy5Qcm9maWNpZW5jeX1cIiwke3Jvdy5Qb2ludHN9YFxyXG4gICAgKVxyXG4gICAgLmpvaW4oJ1xcbicpO1xyXG5cclxuICByZXR1cm4gY3N2SGVhZGVyICsgY3N2Um93cztcclxufVxyXG4iXSwibmFtZXMiOlsicHJvY2Vzc0NvbXBldGl0aW9uRGF0YSIsImxpbmVzIiwicHJvY2Vzc2VkRGF0YSIsInByb2Nlc3NlZERhdGFBbWF0ZXVyQ291cGxlcyIsInN1bU9mUG9pbnRzIiwiY3VycmVudHN0dWRlbnQiLCJpIiwibGVuZ3RoIiwibGluZSIsInN0dWRlbnRUZWFjaGVyTWF0Y2giLCJtYXRjaCIsInN0dWRlbnQiLCJ0ZWFjaGVyIiwidHJpbSIsImoiLCJuZXh0U3R1ZGVudFRlYWNoZXJNYXRjaCIsInBsYWNlIiwicHJvZmljaWVuY3kiLCJoZWF0TnVtYmVyIiwiZXZlbnREZXNjcmlwdGlvbiIsInBsYWNlTGluZSIsImNoZWNrU29sb0xpbmUiLCJwbGFjZU1hdGNoIiwiaGVhdExpbmUiLCJoZWF0TWF0Y2giLCJjb25zb2xlIiwibG9nIiwiY2hlY2tTdHVkZW50VGVhY2hlciIsInJlcGxhY2UiLCJpbmNsdWRlcyIsImZ1bGxFdmVudCIsInBvaW50cyIsInBhcmVudGhlc2VzTWF0Y2giLCJjb250ZW50SW5QYXJlbnRoZXNlcyIsInNsYXNoQ291bnQiLCJwcm9mU2NvcmUiLCJwYXJzZUZsb2F0IiwicGxhY2VOdW0iLCJwYXJzZUludCIsImlzTmFOIiwicHVzaCIsIlN0dWRlbnQiLCJUZWFjaGVyIiwiRXZlbnQiLCJQbGFjZSIsIlByb2ZpY2llbmN5IiwiUG9pbnRzIiwidG9Mb3dlckNhc2UiLCJnZW5lcmF0ZUNTVkZyb21Qcm9jZXNzZWREYXRhIiwic3R1ZGVudFRvdGFscyIsIk1hcCIsInRlYWNoZXJUb3RhbHMiLCJmb3JFYWNoIiwiZW50cnkiLCJzZXQiLCJnZXQiLCJmaW5hbFByb2Nlc3NlZERhdGEiLCJ0b3RhbCIsImFtYXRldXJDb3VwbGVUb3RhbHMiLCJjb3VwbGVLZXkiLCJjb3VwbGUiLCJzcGxpdCIsImNzdkhlYWRlciIsImNzdlJvd3MiLCJtYXAiLCJyb3ciLCJqb2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/competitionProcessor.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprocess-pdf%2Froute&page=%2Fapi%2Fprocess-pdf%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess-pdf%2Froute.ts&appDir=C%3A%5CUsers%5Csbolo%5CWebProjects%5Cmorristown-results%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csbolo%5CWebProjects%5Cmorristown-results&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();